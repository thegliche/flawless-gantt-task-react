{"version":3,"file":"index.tsx.modern.js","sources":["types/public-types.ts","helpers/date-helper.ts","helpers/other-helper.ts","components/task-list/task-list-header.tsx","components/task-list/task-list-table.tsx","components/other/tooltip.tsx","components/other/vertical-scroll.tsx","components/task-list/task-list.tsx","components/grid/grid-body.tsx","components/grid/grid.tsx","components/calendar/top-part-of-calendar.tsx","components/calendar/calendar.tsx","components/other/arrow.tsx","helpers/bar-helper.ts","components/task-item/bar/bar-display.tsx","components/task-item/bar/bar-date-handle.tsx","components/task-item/bar/bar-progress-handle.tsx","components/task-item/bar/bar.tsx","components/task-item/bar/bar-small.tsx","components/task-item/milestone/milestone.tsx","components/task-item/project/project.tsx","components/task-item/task-item.tsx","components/gantt/task-gantt-content.tsx","components/gantt/task-gantt.tsx","components/other/horizontal-scroll.tsx","components/gantt/gantt.tsx"],"sourcesContent":["export enum ViewMode {\n  Hour = \"Hour\",\n  QuarterDay = \"Quarter Day\",\n  HalfDay = \"Half Day\",\n  Day = \"Day\",\n  /** ISO-8601 week */\n  Week = \"Week\",\n  Month = \"Month\",\n  Year = \"Year\",\n}\nexport type TaskType = \"task\" | \"milestone\" | \"project\";\nexport interface Task {\n  id: string;\n  type: TaskType;\n  name: string;\n  start: Date;\n  end: Date;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  project?: string;\n  dependencies?: string[];\n  hideChildren?: boolean;\n  displayOrder?: number;\n}\n\nexport interface EventOption {\n  /**\n   * Time step value for date changes.\n   */\n  timeStep?: number;\n  /**\n   * Invokes on bar select on unselect.\n   */\n  onSelect?: (task: Task, isSelected: boolean) => void;\n  /**\n   * Invokes on bar double click.\n   */\n  onDoubleClick?: (task: Task) => void;\n  /**\n   * Invokes on bar click.\n   */\n  onClick?: (task: Task) => void;\n  /**\n   * Invokes on end and start time change. Chart undoes operation if method return false or error.\n   */\n  onDateChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on progress change. Chart undoes operation if method return false or error.\n   */\n  onProgressChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on delete selected task. Chart undoes operation if method return false or error.\n   */\n  onDelete?: (task: Task) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on expander on task list\n   */\n  onExpanderClick?: (task: Task) => void;\n}\n\nexport interface DisplayOption {\n  viewMode?: ViewMode;\n  viewDate?: Date;\n  preStepsCount?: number;\n  /**\n   * Specifies the month name language. Able formats: ISO 639-2, Java Locale\n   */\n  locale?: string;\n  rtl?: boolean;\n}\n\nexport interface StylingOption {\n  headerHeight?: number;\n  columnWidth?: number;\n  listCellWidth?: string;\n  rowHeight?: number;\n  ganttHeight?: number;\n  barCornerRadius?: number;\n  handleWidth?: number;\n  fontFamily?: string;\n  fontSize?: string;\n  /**\n   * How many of row width can be taken by task.\n   * From 0 to 100\n   */\n  barFill?: number;\n  barProgressColor?: string;\n  barProgressSelectedColor?: string;\n  barBackgroundColor?: string;\n  barBackgroundSelectedColor?: string;\n  projectProgressColor?: string;\n  projectProgressSelectedColor?: string;\n  projectBackgroundColor?: string;\n  projectBackgroundSelectedColor?: string;\n  milestoneBackgroundColor?: string;\n  milestoneBackgroundSelectedColor?: string;\n  arrowColor?: string;\n  arrowIndent?: number;\n  todayColor?: string;\n  TooltipContent?: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  TaskListHeader?: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable?: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    /**\n     * Sets selected task by id\n     */\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n}\n\nexport interface GanttProps extends EventOption, DisplayOption, StylingOption {\n  tasks: Task[];\n}\n","import { Task, ViewMode } from \"../types/public-types\";\nimport DateTimeFormatOptions = Intl.DateTimeFormatOptions;\nimport DateTimeFormat = Intl.DateTimeFormat;\n\ntype DateHelperScales =\n  | \"year\"\n  | \"month\"\n  | \"day\"\n  | \"hour\"\n  | \"minute\"\n  | \"second\"\n  | \"millisecond\";\n\nconst intlDTCache = {};\nexport const getCachedDateTimeFormat = (\n  locString: string | string[],\n  opts: DateTimeFormatOptions = {}\n): DateTimeFormat => {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache[key];\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n  return dtf;\n};\n\nexport const addToDate = (\n  date: Date,\n  quantity: number,\n  scale: DateHelperScales\n) => {\n  const newDate = new Date(\n    date.getFullYear() + (scale === \"year\" ? quantity : 0),\n    date.getMonth() + (scale === \"month\" ? quantity : 0),\n    date.getDate() + (scale === \"day\" ? quantity : 0),\n    date.getHours() + (scale === \"hour\" ? quantity : 0),\n    date.getMinutes() + (scale === \"minute\" ? quantity : 0),\n    date.getSeconds() + (scale === \"second\" ? quantity : 0),\n    date.getMilliseconds() + (scale === \"millisecond\" ? quantity : 0)\n  );\n  return newDate;\n};\n\nexport const startOfDate = (date: Date, scale: DateHelperScales) => {\n  const scores = [\n    \"millisecond\",\n    \"second\",\n    \"minute\",\n    \"hour\",\n    \"day\",\n    \"month\",\n    \"year\",\n  ];\n\n  const shouldReset = (_scale: DateHelperScales) => {\n    const maxScore = scores.indexOf(scale);\n    return scores.indexOf(_scale) <= maxScore;\n  };\n  const newDate = new Date(\n    date.getFullYear(),\n    shouldReset(\"year\") ? 0 : date.getMonth(),\n    shouldReset(\"month\") ? 1 : date.getDate(),\n    shouldReset(\"day\") ? 0 : date.getHours(),\n    shouldReset(\"hour\") ? 0 : date.getMinutes(),\n    shouldReset(\"minute\") ? 0 : date.getSeconds(),\n    shouldReset(\"second\") ? 0 : date.getMilliseconds()\n  );\n  return newDate;\n};\n\nexport const ganttDateRange = (\n  tasks: Task[],\n  viewMode: ViewMode,\n  preStepsCount: number\n) => {\n  let newStartDate: Date = tasks[0].start;\n  let newEndDate: Date = tasks[0].start;\n  for (const task of tasks) {\n    if (task.start < newStartDate) {\n      newStartDate = task.start;\n    }\n    if (task.end > newEndDate) {\n      newEndDate = task.end;\n    }\n  }\n  switch (viewMode) {\n    case ViewMode.Year:\n      newStartDate = addToDate(newStartDate, -1, \"year\");\n      newStartDate = startOfDate(newStartDate, \"year\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Month:\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Week:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(\n        getMonday(newStartDate),\n        -7 * preStepsCount,\n        \"day\"\n      );\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1.5, \"month\");\n      break;\n    case ViewMode.Day:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 19, \"day\");\n      break;\n    case ViewMode.QuarterDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 66, \"hour\"); // 24(1 day)*3 - 6\n      break;\n    case ViewMode.HalfDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 108, \"hour\"); // 24(1 day)*5 - 12\n      break;\n    case ViewMode.Hour:\n      newStartDate = startOfDate(newStartDate, \"hour\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"hour\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1, \"day\");\n      break;\n  }\n  return [newStartDate, newEndDate];\n};\n\nexport const seedDates = (\n  startDate: Date,\n  endDate: Date,\n  viewMode: ViewMode\n) => {\n  let currentDate: Date = new Date(startDate);\n  const dates: Date[] = [currentDate];\n  while (currentDate < endDate) {\n    switch (viewMode) {\n      case ViewMode.Year:\n        currentDate = addToDate(currentDate, 1, \"year\");\n        break;\n      case ViewMode.Month:\n        currentDate = addToDate(currentDate, 1, \"month\");\n        break;\n      case ViewMode.Week:\n        currentDate = addToDate(currentDate, 7, \"day\");\n        break;\n      case ViewMode.Day:\n        currentDate = addToDate(currentDate, 1, \"day\");\n        break;\n      case ViewMode.HalfDay:\n        currentDate = addToDate(currentDate, 12, \"hour\");\n        break;\n      case ViewMode.QuarterDay:\n        currentDate = addToDate(currentDate, 6, \"hour\");\n        break;\n      case ViewMode.Hour:\n        currentDate = addToDate(currentDate, 1, \"hour\");\n        break;\n    }\n    dates.push(currentDate);\n  }\n  return dates;\n};\n\nexport const getLocaleMonth = (date: Date, locale: string) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    month: \"long\",\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\nexport const getLocalDayOfWeek = (\n  date: Date,\n  locale: string,\n  format?: \"long\" | \"short\" | \"narrow\" | undefined\n) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    weekday: format,\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\n/**\n * Returns monday of current week\n * @param date date for modify\n */\nconst getMonday = (date: Date) => {\n  const day = date.getDay();\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(date.setDate(diff));\n};\n\nexport const getWeekNumberISO8601 = (date: Date) => {\n  const tmpDate = new Date(date.valueOf());\n  const dayNumber = (tmpDate.getDay() + 6) % 7;\n  tmpDate.setDate(tmpDate.getDate() - dayNumber + 3);\n  const firstThursday = tmpDate.valueOf();\n  tmpDate.setMonth(0, 1);\n  if (tmpDate.getDay() !== 4) {\n    tmpDate.setMonth(0, 1 + ((4 - tmpDate.getDay() + 7) % 7));\n  }\n  const weekNumber = (\n    1 + Math.ceil((firstThursday - tmpDate.valueOf()) / 604800000)\n  ).toString();\n\n  if (weekNumber.length === 1) {\n    return `0${weekNumber}`;\n  } else {\n    return weekNumber;\n  }\n};\n\nexport const getDaysInMonth = (month: number, year: number) => {\n  return new Date(year, month + 1, 0).getDate();\n};\n","import { BarTask } from \"../types/bar-task\";\nimport { Task } from \"../types/public-types\";\n\nexport function isKeyboardEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.KeyboardEvent {\n  return (event as React.KeyboardEvent).key !== undefined;\n}\n\nexport function isMouseEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.MouseEvent {\n  return (event as React.MouseEvent).clientX !== undefined;\n}\n\nexport function isBarTask(task: Task | BarTask): task is BarTask {\n  return (task as BarTask).x1 !== undefined;\n}\n\nexport function removeHiddenTasks(tasks: Task[]) {\n  const groupedTasks = tasks.filter(\n    t => t.hideChildren && t.type === \"project\"\n  );\n  if (groupedTasks.length > 0) {\n    for (let i = 0; groupedTasks.length > i; i++) {\n      const groupedTask = groupedTasks[i];\n      const children = getChildren(tasks, groupedTask);\n      tasks = tasks.filter(t => children.indexOf(t) === -1);\n    }\n  }\n  return tasks;\n}\n\nfunction getChildren(taskList: Task[], task: Task) {\n  let tasks: Task[] = [];\n  if (task.type !== \"project\") {\n    tasks = taskList.filter(\n      t => t.dependencies && t.dependencies.indexOf(task.id) !== -1\n    );\n  } else {\n    tasks = taskList.filter(t => t.project && t.project === task.id);\n  }\n  var taskChildren: Task[] = [];\n  tasks.forEach(t => {\n    taskChildren.push(...getChildren(taskList, t));\n  })\n  tasks = tasks.concat(tasks, taskChildren);\n  return tasks;\n}\n\nexport const sortTasks = (taskA: Task, taskB: Task) => {\n  const orderA = taskA.displayOrder || Number.MAX_VALUE;\n  const orderB = taskB.displayOrder || Number.MAX_VALUE;\n  if (orderA > orderB) {\n    return 1;\n  } else if (orderA < orderB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nexport const classNames = (...classes: string[]) => {\n  return classes.filter(Boolean).join(' ');\n};\n","import React from \"react\";\nimport styles from \"./task-list-header.module.css\";\nimport '../../style.css';\nimport { classNames } from \"../../helpers/other-helper\";\nexport const TaskListHeaderDefault: React.FC<{\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n}> = ({ headerHeight, fontFamily, fontSize, rowWidth }) => {\n  return (\n    <div\n      className={classNames(styles.ganttTable, 'text-red-400')}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      <div\n        className={styles.ganttTable_Header}\n        style={{\n          height: headerHeight - 2,\n        }}\n      >\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;Name\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;From\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.25,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;To\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from \"react\";\nimport styles from \"./task-list-table.module.css\";\nimport { Task } from \"../../types/public-types\";\nimport '../../style.css';\nconst localeDateStringCache = {};\nconst toLocaleDateStringFactory =\n  (locale: string) =>\n  (date: Date, dateTimeOptions: Intl.DateTimeFormatOptions) => {\n    const key = date.toString();\n    let lds = localeDateStringCache[key];\n    if (!lds) {\n      lds = date.toLocaleDateString(locale, dateTimeOptions);\n      localeDateStringCache[key] = lds;\n    }\n    return lds;\n  };\nconst dateTimeOptions: Intl.DateTimeFormatOptions = {\n  weekday: \"short\",\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n};\n\nexport const TaskListTableDefault: React.FC<{\n  rowHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  locale: string;\n  tasks: Task[];\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n  onExpanderClick: (task: Task) => void;\n}> = ({\n  rowHeight,\n  rowWidth,\n  tasks,\n  fontFamily,\n  fontSize,\n  locale,\n  onExpanderClick,\n}) => {\n  const toLocaleDateString = useMemo(\n    () => toLocaleDateStringFactory(locale),\n    [locale]\n  );\n\n  return (\n    <div\n      className={styles.taskListWrapper}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      {tasks.map(t => {\n        let expanderSymbol = \"\";\n        if (t.hideChildren === false) {\n          expanderSymbol = \"▼\";\n        } else if (t.hideChildren === true) {\n          expanderSymbol = \"▶\";\n        }\n\n        return (\n          <div\n            className={styles.taskListTableRow}\n            style={{ height: rowHeight }}\n            key={`${t.id}row`}\n          >\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n              title={t.name}\n            >\n              <div className={styles.taskListNameWrapper}>\n                <div\n                  className={\n                    expanderSymbol\n                      ? styles.taskListExpander\n                      : styles.taskListEmptyExpander\n                  }\n                  onClick={() => onExpanderClick(t)}\n                >\n                  {expanderSymbol}\n                </div>\n                <div>{t.name}</div>\n              </div>\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.start, dateTimeOptions)}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.end, dateTimeOptions)}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport styles from \"./tooltip.module.css\";\nimport '../../style.css';\nexport type TooltipProps = {\n  task: BarTask;\n  arrowIndent: number;\n  rtl: boolean;\n  svgContainerHeight: number;\n  svgContainerWidth: number;\n  svgWidth: number;\n  headerHeight: number;\n  taskListWidth: number;\n  scrollX: number;\n  scrollY: number;\n  rowHeight: number;\n  fontSize: string;\n  fontFamily: string;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n};\nexport const Tooltip: React.FC<TooltipProps> = ({\n  task,\n  rowHeight,\n  rtl,\n  svgContainerHeight,\n  svgContainerWidth,\n  scrollX,\n  scrollY,\n  arrowIndent,\n  fontSize,\n  fontFamily,\n  headerHeight,\n  taskListWidth,\n  TooltipContent,\n}) => {\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const [relatedY, setRelatedY] = useState(0);\n  const [relatedX, setRelatedX] = useState(0);\n  useEffect(() => {\n    if (tooltipRef.current) {\n      const tooltipHeight = tooltipRef.current.offsetHeight * 1.1;\n      const tooltipWidth = tooltipRef.current.offsetWidth * 1.1;\n\n      let newRelatedY = task.index * rowHeight - scrollY + headerHeight;\n      let newRelatedX: number;\n      if (rtl) {\n        newRelatedX = task.x1 - arrowIndent * 1.5 - tooltipWidth - scrollX;\n        if (newRelatedX < 0) {\n          newRelatedX = task.x2 + arrowIndent * 1.5 - scrollX;\n        }\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        if (tooltipLeftmostPoint > svgContainerWidth) {\n          newRelatedX = svgContainerWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      } else {\n        newRelatedX = task.x2 + arrowIndent * 1.5 + taskListWidth - scrollX;\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        const fullChartWidth = taskListWidth + svgContainerWidth;\n        if (tooltipLeftmostPoint > fullChartWidth) {\n          newRelatedX =\n            task.x1 +\n            taskListWidth -\n            arrowIndent * 1.5 -\n            scrollX -\n            tooltipWidth;\n        }\n        if (newRelatedX < taskListWidth) {\n          newRelatedX = svgContainerWidth + taskListWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      }\n\n      const tooltipLowerPoint = tooltipHeight + newRelatedY - scrollY;\n      if (tooltipLowerPoint > svgContainerHeight - scrollY) {\n        newRelatedY = svgContainerHeight - tooltipHeight;\n      }\n      setRelatedY(newRelatedY);\n      setRelatedX(newRelatedX);\n    }\n  }, [\n    tooltipRef,\n    task,\n    arrowIndent,\n    scrollX,\n    scrollY,\n    headerHeight,\n    taskListWidth,\n    rowHeight,\n    svgContainerHeight,\n    svgContainerWidth,\n    rtl,\n  ]);\n\n  return (\n    <div\n      ref={tooltipRef}\n      className={\n        relatedX\n          ? styles.tooltipDetailsContainer\n          : styles.tooltipDetailsContainerHidden\n      }\n      style={{ left: relatedX, top: relatedY }}\n    >\n      <TooltipContent task={task} fontSize={fontSize} fontFamily={fontFamily} />\n    </div>\n  );\n};\n\nexport const StandardTooltipContent: React.FC<{\n  task: Task;\n  fontSize: string;\n  fontFamily: string;\n}> = ({ task, fontSize, fontFamily }) => {\n  const style = {\n    fontSize,\n    fontFamily,\n  };\n  return (\n    <div className={styles.tooltipDefaultContainer} style={style}>\n      <b style={{ fontSize: fontSize + 6 }}>{`${\n        task.name\n      }: ${task.start.getDate()}-${\n        task.start.getMonth() + 1\n      }-${task.start.getFullYear()} - ${task.end.getDate()}-${\n        task.end.getMonth() + 1\n      }-${task.end.getFullYear()}`}</b>\n      {task.end.getTime() - task.start.getTime() !== 0 && (\n        <p className={styles.tooltipDefaultContainerParagraph}>{`Duration: ${~~(\n          (task.end.getTime() - task.start.getTime()) /\n          (1000 * 60 * 60 * 24)\n        )} day(s)`}</p>\n      )}\n\n      <p className={styles.tooltipDefaultContainerParagraph}>\n        {!!task.progress && `Progress: ${task.progress} %`}\n      </p>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./vertical-scroll.module.css\";\n\nexport const VerticalScroll: React.FC<{\n  scroll: number;\n  ganttHeight: number;\n  ganttFullHeight: number;\n  headerHeight: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({\n  scroll,\n  ganttHeight,\n  ganttFullHeight,\n  headerHeight,\n  rtl,\n  onScroll,\n}) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      style={{\n        height: ganttHeight,\n        marginTop: headerHeight,\n        marginLeft: rtl ? \"\" : \"-1rem\",\n      }}\n      className={styles.scroll}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ height: ganttFullHeight, width: 1 }} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Task } from \"../../types/public-types\";\nimport '../../style.css';\nexport type TaskListProps = {\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  rowHeight: number;\n  ganttHeight: number;\n  scrollY: number;\n  locale: string;\n  tasks: Task[];\n  taskListRef: React.RefObject<HTMLDivElement>;\n  horizontalContainerClass?: string;\n  selectedTask: BarTask | undefined;\n  setSelectedTask: (task: string) => void;\n  onExpanderClick: (task: Task) => void;\n  TaskListHeader: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n};\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  headerHeight,\n  fontFamily,\n  fontSize,\n  rowWidth,\n  rowHeight,\n  scrollY,\n  tasks,\n  selectedTask,\n  setSelectedTask,\n  onExpanderClick,\n  locale,\n  ganttHeight,\n  taskListRef,\n  horizontalContainerClass,\n  TaskListHeader,\n  TaskListTable,\n}) => {\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  const headerProps = {\n    headerHeight,\n    fontFamily,\n    fontSize,\n    rowWidth,\n  };\n  const selectedTaskId = selectedTask ? selectedTask.id : \"\";\n  const tableProps = {\n    rowHeight,\n    rowWidth,\n    fontFamily,\n    fontSize,\n    tasks,\n    locale,\n    selectedTaskId: selectedTaskId,\n    setSelectedTask,\n    onExpanderClick,\n  };\n\n  return (\n    <div ref={taskListRef}>\n      <TaskListHeader {...headerProps} />\n      <div\n        ref={horizontalContainerRef}\n        className={horizontalContainerClass}\n        style={ganttHeight ? { height: ganttHeight } : {}}\n      >\n        <TaskListTable {...tableProps} />\n      </div>\n    </div>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { addToDate } from \"../../helpers/date-helper\";\nimport styles from \"./grid.module.css\";\nimport '../../style.css';\nexport type GridBodyProps = {\n  tasks: Task[];\n  dates: Date[];\n  svgWidth: number;\n  rowHeight: number;\n  columnWidth: number;\n  todayColor: string;\n  rtl: boolean;\n};\nexport const GridBody: React.FC<GridBodyProps> = ({\n  tasks,\n  dates,\n  rowHeight,\n  svgWidth,\n  columnWidth,\n  todayColor,\n  rtl,\n}) => {\n  let y = 0;\n  const gridRows: ReactChild[] = [];\n  const rowLines: ReactChild[] = [\n    <line\n      key=\"RowLineFirst\"\n      x=\"0\"\n      y1={0}\n      x2={svgWidth}\n      y2={0}\n      className={styles.gridRowLine}\n    />,\n  ];\n  for (const task of tasks) {\n    gridRows.push(\n      <rect\n        key={\"Row\" + task.id}\n        x=\"0\"\n        y={y}\n        width={svgWidth}\n        height={rowHeight}\n        className={styles.gridRow}\n      />\n    );\n    rowLines.push(\n      <line\n        key={\"RowLine\" + task.id}\n        x=\"0\"\n        y1={y + rowHeight}\n        x2={svgWidth}\n        y2={y + rowHeight}\n        className={styles.gridRowLine}\n      />\n    );\n    y += rowHeight;\n  }\n\n  const now = new Date();\n  let tickX = 0;\n  const ticks: ReactChild[] = [];\n  let today: ReactChild = <rect />;\n  for (let i = 0; i < dates.length; i++) {\n    const date = dates[i];\n    ticks.push(\n      <line\n        key={date.getTime()}\n        x1={tickX}\n        y1={0}\n        x2={tickX}\n        y2={y}\n        className={styles.gridTick}\n      />\n    );\n    if (\n      (i + 1 !== dates.length &&\n        date.getTime() < now.getTime() &&\n        dates[i + 1].getTime() >= now.getTime()) ||\n      // if current date is last\n      (i !== 0 &&\n        i + 1 === dates.length &&\n        date.getTime() < now.getTime() &&\n        addToDate(\n          date,\n          date.getTime() - dates[i - 1].getTime(),\n          \"millisecond\"\n        ).getTime() >= now.getTime())\n    ) {\n      today = (\n        <rect\n          x={tickX}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    // rtl for today\n    if (\n      rtl &&\n      i + 1 !== dates.length &&\n      date.getTime() >= now.getTime() &&\n      dates[i + 1].getTime() < now.getTime()\n    ) {\n      today = (\n        <rect\n          x={tickX + columnWidth}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    tickX += columnWidth;\n  }\n  return (\n    <g className=\"gridBody\">\n      <g className=\"rows\">{gridRows}</g>\n      <g className=\"rowLines\">{rowLines}</g>\n      <g className=\"ticks\">{ticks}</g>\n      <g className=\"today\">{today}</g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { GridBody, GridBodyProps } from \"./grid-body\";\nimport '../../style.css';\nexport type GridProps = GridBodyProps;\nexport const Grid: React.FC<GridProps> = props => {\n  return (\n    <g className=\"grid\">\n      <GridBody {...props} />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./calendar.module.css\";\nimport '../../style.css';\ntype TopPartOfCalendarProps = {\n  value: string;\n  x1Line: number;\n  y1Line: number;\n  y2Line: number;\n  xText: number;\n  yText: number;\n};\n\nexport const TopPartOfCalendar: React.FC<TopPartOfCalendarProps> = ({\n  value,\n  x1Line,\n  y1Line,\n  y2Line,\n  xText,\n  yText,\n}) => {\n  return (\n    <g className=\"calendarTop\">\n      <line\n        x1={x1Line}\n        y1={y1Line}\n        x2={x1Line}\n        y2={y2Line}\n        className={styles.calendarTopTick}\n        key={value + \"line\"}\n      />\n      <text\n        key={value + \"text\"}\n        y={yText}\n        x={xText}\n        className={styles.calendarTopText}\n      >\n        {value}\n      </text>\n    </g>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { ViewMode } from \"../../types/public-types\";\nimport { TopPartOfCalendar } from \"./top-part-of-calendar\";\nimport {\n  getCachedDateTimeFormat,\n  getDaysInMonth,\n  getLocalDayOfWeek,\n  getLocaleMonth,\n  getWeekNumberISO8601,\n} from \"../../helpers/date-helper\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport styles from \"./calendar.module.css\";\nimport '../../style.css';\n\nexport type CalendarProps = {\n  dateSetup: DateSetup;\n  locale: string;\n  viewMode: ViewMode;\n  rtl: boolean;\n  headerHeight: number;\n  columnWidth: number;\n  fontFamily: string;\n  fontSize: string;\n};\n\nexport const Calendar: React.FC<CalendarProps> = ({\n  dateSetup,\n  locale,\n  viewMode,\n  rtl,\n  headerHeight,\n  columnWidth,\n  fontFamily,\n  fontSize,\n}) => {\n  const getCalendarValuesForYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = date.getFullYear();\n      bottomValues.push(\n        <text\n          key={date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getFullYear() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getFullYear()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={headerHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForMonth = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = getLocaleMonth(date, locale);\n      bottomValues.push(\n        <text\n          key={bottomValue + date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForWeek = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    let weeksCount: number = 1;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = dates.length - 1; i >= 0; i--) {\n      const date = dates[i];\n      let topValue = \"\";\n      if (i === 0 || date.getMonth() !== dates[i - 1].getMonth()) {\n        // top\n        topValue = `${getLocaleMonth(date, locale)}, ${date.getFullYear()}`;\n      }\n      // bottom\n      const bottomValue = `W${getWeekNumberISO8601(date)}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n\n      if (topValue) {\n        // if last day is new month\n        if (i !== dates.length - 1) {\n          topValues.push(\n            <TopPartOfCalendar\n              key={topValue}\n              value={topValue}\n              x1Line={columnWidth * i + weeksCount * columnWidth}\n              y1Line={0}\n              y2Line={topDefaultHeight}\n              xText={columnWidth * i + columnWidth * weeksCount * 0.5}\n              yText={topDefaultHeight * 0.9}\n            />\n          );\n        }\n        weeksCount = 0;\n      }\n      weeksCount++;\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = `${getLocalDayOfWeek(date, locale, \"short\")}, ${date\n        .getDate()\n        .toString()}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i + 1 !== dates.length &&\n        date.getMonth() !== dates[i + 1].getMonth()\n      ) {\n        const topValue = getLocaleMonth(date, locale);\n\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * (i + 1)}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={\n              columnWidth * (i + 1) -\n              getDaysInMonth(date.getMonth(), date.getFullYear()) *\n                columnWidth *\n                0.5\n            }\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForPartOfDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const ticks = viewMode === ViewMode.HalfDay ? 2 : 4;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getDate() !== dates[i - 1].getDate()) {\n        const topValue = `${getLocalDayOfWeek(\n          date,\n          locale,\n          \"short\"\n        )}, ${date.getDate()} ${getLocaleMonth(date, locale)}`;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i + ticks * columnWidth}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * i + ticks * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForHour = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i !== 0 && date.getDate() !== dates[i - 1].getDate()) {\n        const displayDate = dates[i - 1];\n        const topValue = `${getLocalDayOfWeek(\n          displayDate,\n          locale,\n          \"long\"\n        )}, ${displayDate.getDate()} ${getLocaleMonth(displayDate, locale)}`;\n        const topPosition = (date.getHours() - 24) / 2;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + displayDate.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * (i + topPosition)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  let topValues: ReactChild[] = [];\n  let bottomValues: ReactChild[] = [];\n  switch (dateSetup.viewMode) {\n    case ViewMode.Year:\n      [topValues, bottomValues] = getCalendarValuesForYear();\n      break;\n    case ViewMode.Month:\n        [topValues, bottomValues] = getCalendarValuesForMonth();\n        break;\n      case ViewMode.Week:\n      [topValues, bottomValues] = getCalendarValuesForWeek();\n      break;\n    case ViewMode.Day:\n      [topValues, bottomValues] = getCalendarValuesForDay();\n      break;\n    case ViewMode.QuarterDay:\n    case ViewMode.HalfDay:\n      [topValues, bottomValues] = getCalendarValuesForPartOfDay();\n      break;\n    case ViewMode.Hour:\n      [topValues, bottomValues] = getCalendarValuesForHour();\n  }\n  return (\n    <g className=\"calendar\" fontSize={fontSize} fontFamily={fontFamily}>\n      <rect\n        x={0}\n        y={0}\n        width={columnWidth * dateSetup.dates.length}\n        height={headerHeight}\n        className={styles.calendarHeader}\n      />\n      {bottomValues} {topValues}\n    </g>\n  );\n};\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\n\ntype ArrowProps = {\n  taskFrom: BarTask;\n  taskTo: BarTask;\n  rowHeight: number;\n  taskHeight: number;\n  arrowIndent: number;\n  rtl: boolean;\n};\nexport const Arrow: React.FC<ArrowProps> = ({\n  taskFrom,\n  taskTo,\n  rowHeight,\n  taskHeight,\n  arrowIndent,\n  rtl,\n}) => {\n  let path: string;\n  let trianglePoints: string;\n  if (rtl) {\n    [path, trianglePoints] = drownPathAndTriangleRTL(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  } else {\n    [path, trianglePoints] = drownPathAndTriangle(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  }\n\n  return (\n    <g className=\"arrow\">\n      <path strokeWidth=\"1.5\" d={path} fill=\"none\" />\n      <polygon points={trianglePoints} />\n    </g>\n  );\n};\n\nconst drownPathAndTriangle = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x2 + arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x1 ? \"\" : `H ${taskTo.x1 - arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x1\n      ? arrowIndent\n      : taskTo.x1 - taskFrom.x2 - arrowIndent;\n\n  const path = `M ${taskFrom.x2} ${taskFrom.y + taskHeight / 2} \n  h ${arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x1},${taskToEndPosition} \n  ${taskTo.x1 - 5},${taskToEndPosition - 5} \n  ${taskTo.x1 - 5},${taskToEndPosition + 5}`;\n  return [path, trianglePoints];\n};\n\nconst drownPathAndTriangleRTL = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x1 - arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x2 ? \"\" : `H ${taskTo.x2 + arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x2\n      ? -arrowIndent\n      : taskTo.x2 - taskFrom.x1 + arrowIndent;\n\n  const path = `M ${taskFrom.x1} ${taskFrom.y + taskHeight / 2} \n  h ${-arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x2},${taskToEndPosition} \n  ${taskTo.x2 + 5},${taskToEndPosition + 5} \n  ${taskTo.x2 + 5},${taskToEndPosition - 5}`;\n  return [path, trianglePoints];\n};\n","import { Task } from \"../types/public-types\";\nimport { BarTask, TaskTypeInternal } from \"../types/bar-task\";\nimport { BarMoveAction } from \"../types/gantt-task-actions\";\n\nexport const convertToBarTasks = (\n  tasks: Task[],\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n) => {\n  let barTasks = tasks.map((t, i) => {\n    return convertToBarTask(\n      t,\n      i,\n      dates,\n      columnWidth,\n      rowHeight,\n      taskHeight,\n      barCornerRadius,\n      handleWidth,\n      rtl,\n      barProgressColor,\n      barProgressSelectedColor,\n      barBackgroundColor,\n      barBackgroundSelectedColor,\n      projectProgressColor,\n      projectProgressSelectedColor,\n      projectBackgroundColor,\n      projectBackgroundSelectedColor,\n      milestoneBackgroundColor,\n      milestoneBackgroundSelectedColor\n    );\n  });\n\n  // set dependencies\n  barTasks = barTasks.map(task => {\n    const dependencies = task.dependencies || [];\n    for (let j = 0; j < dependencies.length; j++) {\n      const dependence = barTasks.findIndex(\n        value => value.id === dependencies[j]\n      );\n      if (dependence !== -1) barTasks[dependence].barChildren.push(task);\n    }\n    return task;\n  });\n\n  return barTasks;\n};\n\nconst convertToBarTask = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  let barTask: BarTask;\n  switch (task.type) {\n    case \"milestone\":\n      barTask = convertToMilestone(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      );\n      break;\n    case \"project\":\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor\n      );\n      break;\n    default:\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor\n      );\n      break;\n  }\n  return barTask;\n};\n\nconst convertToBar = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n): BarTask => {\n  let x1: number;\n  let x2: number;\n  if (rtl) {\n    x2 = taskXCoordinateRTL(task.start, dates, columnWidth);\n    x1 = taskXCoordinateRTL(task.end, dates, columnWidth);\n  } else {\n    x1 = taskXCoordinate(task.start, dates, columnWidth);\n    x2 = taskXCoordinate(task.end, dates, columnWidth);\n  }\n  let typeInternal: TaskTypeInternal = task.type;\n  if (typeInternal === \"task\" && x2 - x1 < handleWidth * 2) {\n    typeInternal = \"smalltask\";\n    x2 = x1 + handleWidth * 2;\n  }\n\n  const [progressWidth, progressX] = progressWithByParams(\n    x1,\n    x2,\n    task.progress,\n    rtl\n  );\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n  const hideChildren = task.type === \"project\" ? task.hideChildren : undefined;\n\n  const styles = {\n    backgroundColor: barBackgroundColor,\n    backgroundSelectedColor: barBackgroundSelectedColor,\n    progressColor: barProgressColor,\n    progressSelectedColor: barProgressSelectedColor,\n    ...task.styles,\n  };\n  return {\n    ...task,\n    typeInternal,\n    x1,\n    x2,\n    y,\n    index,\n    progressX,\n    progressWidth,\n    barCornerRadius,\n    handleWidth,\n    hideChildren,\n    height: taskHeight,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst convertToMilestone = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  const x = taskXCoordinate(task.start, dates, columnWidth);\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n\n  const x1 = x - taskHeight * 0.5;\n  const x2 = x + taskHeight * 0.5;\n\n  const rotatedHeight = taskHeight / 1.414;\n  const styles = {\n    backgroundColor: milestoneBackgroundColor,\n    backgroundSelectedColor: milestoneBackgroundSelectedColor,\n    progressColor: \"\",\n    progressSelectedColor: \"\",\n    ...task.styles,\n  };\n  return {\n    ...task,\n    end: task.start,\n    x1,\n    x2,\n    y,\n    index,\n    progressX: 0,\n    progressWidth: 0,\n    barCornerRadius,\n    handleWidth,\n    typeInternal: task.type,\n    progress: 0,\n    height: rotatedHeight,\n    hideChildren: undefined,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst taskXCoordinate = (xDate: Date, dates: Date[], columnWidth: number) => {\n  const index = dates.findIndex(d => d.getTime() >= xDate.getTime()) - 1;\n\n  const remainderMillis = xDate.getTime() - dates[index].getTime();\n  const percentOfInterval =\n    remainderMillis / (dates[index + 1].getTime() - dates[index].getTime());\n  const x = index * columnWidth + percentOfInterval * columnWidth;\n  return x;\n};\nconst taskXCoordinateRTL = (\n  xDate: Date,\n  dates: Date[],\n  columnWidth: number\n) => {\n  let x = taskXCoordinate(xDate, dates, columnWidth);\n  x += columnWidth;\n  return x;\n};\nconst taskYCoordinate = (\n  index: number,\n  rowHeight: number,\n  taskHeight: number\n) => {\n  const y = index * rowHeight + (rowHeight - taskHeight) / 2;\n  return y;\n};\n\nexport const progressWithByParams = (\n  taskX1: number,\n  taskX2: number,\n  progress: number,\n  rtl: boolean\n) => {\n  const progressWidth = (taskX2 - taskX1) * progress * 0.01;\n  let progressX: number;\n  if (rtl) {\n    progressX = taskX2 - progressWidth;\n  } else {\n    progressX = taskX1;\n  }\n  return [progressWidth, progressX];\n};\n\nexport const progressByProgressWidth = (\n  progressWidth: number,\n  barTask: BarTask\n) => {\n  const barWidth = barTask.x2 - barTask.x1;\n  const progressPercent = Math.round((progressWidth * 100) / barWidth);\n  if (progressPercent >= 100) return 100;\n  else if (progressPercent <= 0) return 0;\n  else return progressPercent;\n};\n\nconst progressByX = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 100;\n  else if (x <= task.x1) return 0;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((x - task.x1) * 100) / barWidth);\n    return progressPercent;\n  }\n};\nconst progressByXRTL = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 0;\n  else if (x <= task.x1) return 100;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((task.x2 - x) * 100) / barWidth);\n    return progressPercent;\n  }\n};\n\nexport const getProgressPoint = (\n  progressX: number,\n  taskY: number,\n  taskHeight: number\n) => {\n  const point = [\n    progressX - 5,\n    taskY + taskHeight,\n    progressX + 5,\n    taskY + taskHeight,\n    progressX,\n    taskY + taskHeight - 8.66,\n  ];\n  return point.join(\",\");\n};\n\nconst startByX = (x: number, xStep: number, task: BarTask) => {\n  if (x >= task.x2 - task.handleWidth * 2) {\n    x = task.x2 - task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x1 + additionalXValue;\n  return newX;\n};\n\nconst endByX = (x: number, xStep: number, task: BarTask) => {\n  if (x <= task.x1 + task.handleWidth * 2) {\n    x = task.x1 + task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x2) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x2 + additionalXValue;\n  return newX;\n};\n\nconst moveByX = (x: number, xStep: number, task: BarTask) => {\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX1 = task.x1 + additionalXValue;\n  const newX2 = newX1 + task.x2 - task.x1;\n  return [newX1, newX2];\n};\n\nconst dateByX = (\n  x: number,\n  taskX: number,\n  taskDate: Date,\n  xStep: number,\n  timeStep: number\n) => {\n  let newDate = new Date(((x - taskX) / xStep) * timeStep + taskDate.getTime());\n  newDate = new Date(\n    newDate.getTime() +\n      (newDate.getTimezoneOffset() - taskDate.getTimezoneOffset()) * 60000\n  );\n  return newDate;\n};\n\n/**\n * Method handles event in real time(mousemove) and on finish(mouseup)\n */\nexport const handleTaskBySVGMouseEvent = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  let result: { isChanged: boolean; changedTask: BarTask };\n  switch (selectedTask.type) {\n    case \"milestone\":\n      result = handleTaskBySVGMouseEventForMilestone(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n      break;\n    default:\n      result = handleTaskBySVGMouseEventForBar(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      break;\n  }\n  return result;\n};\n\nconst handleTaskBySVGMouseEventForBar = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"progress\":\n      if (rtl) {\n        changedTask.progress = progressByXRTL(svgX, selectedTask);\n      } else {\n        changedTask.progress = progressByX(svgX, selectedTask);\n      }\n      isChanged = changedTask.progress !== selectedTask.progress;\n      if (isChanged) {\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    case \"start\": {\n      const newX1 = startByX(svgX, xStep, selectedTask);\n      changedTask.x1 = newX1;\n      isChanged = changedTask.x1 !== selectedTask.x1;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.end = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.start = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"end\": {\n      const newX2 = endByX(svgX, xStep, selectedTask);\n      changedTask.x2 = newX2;\n      isChanged = changedTask.x2 !== selectedTask.x2;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.start = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.end = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = dateByX(\n          newMoveX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n\nconst handleTaskBySVGMouseEventForMilestone = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = changedTask.start;\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n","import React from \"react\";\nimport style from \"./bar.module.css\";\nimport '../../../style.css';\ntype BarDisplayProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  isSelected: boolean;\n  /* progress start point */\n  progressX: number;\n  progressWidth: number;\n  barCornerRadius: number;\n  styles: {\n    backgroundColor: string;\n    backgroundSelectedColor: string;\n    progressColor: string;\n    progressSelectedColor: string;\n  };\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarDisplay: React.FC<BarDisplayProps> = ({\n  x,\n  y,\n  width,\n  height,\n  isSelected,\n  progressX,\n  progressWidth,\n  barCornerRadius,\n  styles,\n  onMouseDown,\n}) => {\n  const getProcessColor = () => {\n    return isSelected ? styles.progressSelectedColor : styles.progressColor;\n  };\n\n  const getBarColor = () => {\n    return isSelected ? styles.backgroundSelectedColor : styles.backgroundColor;\n  };\n\n  return (\n    <g onMouseDown={onMouseDown}>\n      <rect\n        x={x}\n        width={width}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getBarColor()}\n        className={style.barBackground}\n      />\n      <rect\n        x={progressX}\n        width={progressWidth}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getProcessColor()}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\nimport '../../../style.css';\ntype BarDateHandleProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  barCornerRadius: number;\n  onMouseDown: (event: React.MouseEvent<SVGRectElement, MouseEvent>) => void;\n};\nexport const BarDateHandle: React.FC<BarDateHandleProps> = ({\n  x,\n  y,\n  width,\n  height,\n  barCornerRadius,\n  onMouseDown,\n}) => {\n  return (\n    <rect\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      className={styles.barHandle}\n      ry={barCornerRadius}\n      rx={barCornerRadius}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\nimport '../../../style.css';\ntype BarProgressHandleProps = {\n  progressPoint: string;\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarProgressHandle: React.FC<BarProgressHandleProps> = ({\n  progressPoint,\n  onMouseDown,\n}) => {\n  return (\n    <polygon\n      className={styles.barHandle}\n      points={progressPoint}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarDateHandle } from \"./bar-date-handle\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\nimport '../../../style.css';\nexport const Bar: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  rtl,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    +!rtl * task.progressWidth + task.progressX,\n    task.y,\n    task.height\n  );\n  const handleHeight = task.height - 2;\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isDateChangeable && (\n          <g>\n            {/* left */}\n            <BarDateHandle\n              x={task.x1 + 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"start\", task, e);\n              }}\n            />\n            {/* right */}\n            <BarDateHandle\n              x={task.x2 - task.handleWidth - 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"end\", task, e);\n              }}\n            />\n          </g>\n        )}\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\nimport '../../../style.css';\nexport const BarSmall: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    task.progressWidth + task.x1,\n    task.y,\n    task.height\n  );\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./milestone.module.css\";\nimport '../../../style.css';\nexport const Milestone: React.FC<TaskItemProps> = ({\n  task,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const transform = `rotate(45 ${task.x1 + task.height * 0.356} \n    ${task.y + task.height * 0.85})`;\n  const getBarColor = () => {\n    return isSelected\n      ? task.styles.backgroundSelectedColor\n      : task.styles.backgroundColor;\n  };\n\n  return (\n    <g tabIndex={0} className={styles.milestoneWrapper}>\n      <rect\n        fill={getBarColor()}\n        x={task.x1}\n        width={task.height}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        transform={transform}\n        className={styles.milestoneBackground}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./project.module.css\";\n\nexport const Project: React.FC<TaskItemProps> = ({ task, isSelected }) => {\n  const barColor = isSelected\n    ? task.styles.backgroundSelectedColor\n    : task.styles.backgroundColor;\n  const processColor = isSelected\n    ? task.styles.progressSelectedColor\n    : task.styles.progressColor;\n  const projectWith = task.x2 - task.x1;\n\n  const projectLeftTriangle = [\n    task.x1,\n    task.y + task.height / 2 - 1,\n    task.x1,\n    task.y + task.height,\n    task.x1 + 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n  const projectRightTriangle = [\n    task.x2,\n    task.y + task.height / 2 - 1,\n    task.x2,\n    task.y + task.height,\n    task.x2 - 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n\n  return (\n    <g tabIndex={0} className={styles.projectWrapper}>\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectBackground}\n      />\n      <rect\n        x={task.progressX}\n        width={task.progressWidth}\n        y={task.y}\n        height={task.height}\n        ry={task.barCornerRadius}\n        rx={task.barCornerRadius}\n        fill={processColor}\n      />\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height / 2}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectTop}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectLeftTriangle}\n        fill={barColor}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectRightTriangle}\n        fill={barColor}\n      />\n    </g>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { GanttContentMoveAction } from \"../../types/gantt-task-actions\";\nimport { Bar } from \"./bar/bar\";\nimport { BarSmall } from \"./bar/bar-small\";\nimport { Milestone } from \"./milestone/milestone\";\nimport { Project } from \"./project/project\";\nimport style from \"./task-list.module.css\";\nimport '../../style.css';\nexport type TaskItemProps = {\n  task: BarTask;\n  arrowIndent: number;\n  taskHeight: number;\n  isProgressChangeable: boolean;\n  isDateChangeable: boolean;\n  isDelete: boolean;\n  isSelected: boolean;\n  rtl: boolean;\n  onEventStart: (\n    action: GanttContentMoveAction,\n    selectedTask: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => any;\n};\n\nexport const TaskItem: React.FC<TaskItemProps> = props => {\n  const {\n    task,\n    arrowIndent,\n    isDelete,\n    taskHeight,\n    isSelected,\n    rtl,\n    onEventStart,\n  } = {\n    ...props,\n  };\n  const textRef = useRef<SVGTextElement>(null);\n  const [taskItem, setTaskItem] = useState<JSX.Element>(<div />);\n  const [isTextInside, setIsTextInside] = useState(true);\n\n  useEffect(() => {\n    switch (task.typeInternal) {\n      case \"milestone\":\n        setTaskItem(<Milestone {...props} />);\n        break;\n      case \"project\":\n        setTaskItem(<Project {...props} />);\n        break;\n      case \"smalltask\":\n        setTaskItem(<BarSmall {...props} />);\n        break;\n      default:\n        setTaskItem(<Bar {...props} />);\n        break;\n    }\n  }, [task, isSelected]);\n\n  useEffect(() => {\n    if (textRef.current) {\n      setIsTextInside(textRef.current.getBBox().width < task.x2 - task.x1);\n    }\n  }, [textRef, task]);\n\n  const getX = () => {\n    const width = task.x2 - task.x1;\n    const hasChild = task.barChildren.length > 0;\n    if (isTextInside) {\n      return task.x1 + width * 0.5;\n    }\n    if (rtl && textRef.current) {\n      return (\n        task.x1 -\n        textRef.current.getBBox().width -\n        arrowIndent * +hasChild -\n        arrowIndent * 0.2\n      );\n    } else {\n      return task.x1 + width + arrowIndent * +hasChild + arrowIndent * 0.2;\n    }\n  };\n\n  return (\n    <g\n      onKeyDown={e => {\n        switch (e.key) {\n          case \"Delete\": {\n            if (isDelete) onEventStart(\"delete\", task, e);\n            break;\n          }\n        }\n        e.stopPropagation();\n      }}\n      onMouseEnter={e => {\n        onEventStart(\"mouseenter\", task, e);\n      }}\n      onMouseLeave={e => {\n        onEventStart(\"mouseleave\", task, e);\n      }}\n      onDoubleClick={e => {\n        onEventStart(\"dblclick\", task, e);\n      }}\n      onClick={e => {\n        onEventStart(\"click\", task, e);\n      }}\n      onFocus={() => {\n        onEventStart(\"select\", task);\n      }}\n    >\n      {taskItem}\n      <text\n        x={getX()}\n        y={task.y + taskHeight * 0.5}\n        className={\n          isTextInside\n            ? style.barLabel\n            : style.barLabel && style.barLabelOutside\n        }\n        ref={textRef}\n      >\n        {task.name}\n      </text>\n    </g>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { EventOption } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Arrow } from \"../other/arrow\";\nimport { handleTaskBySVGMouseEvent } from \"../../helpers/bar-helper\";\nimport { isKeyboardEvent } from \"../../helpers/other-helper\";\nimport { TaskItem } from \"../task-item/task-item\";\nimport {\n  BarMoveAction,\n  GanttContentMoveAction,\n  GanttEvent,\n} from \"../../types/gantt-task-actions\";\nimport '../../style.css';\nexport type TaskGanttContentProps = {\n  tasks: BarTask[];\n  dates: Date[];\n  ganttEvent: GanttEvent;\n  selectedTask: BarTask | undefined;\n  rowHeight: number;\n  columnWidth: number;\n  timeStep: number;\n  svg?: React.RefObject<SVGSVGElement>;\n  svgWidth: number;\n  taskHeight: number;\n  arrowColor: string;\n  arrowIndent: number;\n  fontSize: string;\n  fontFamily: string;\n  rtl: boolean;\n  setGanttEvent: (value: GanttEvent) => void;\n  setFailedTask: (value: BarTask | null) => void;\n  setSelectedTask: (taskId: string) => void;\n} & EventOption;\n\nexport const TaskGanttContent: React.FC<TaskGanttContentProps> = ({\n  tasks,\n  dates,\n  ganttEvent,\n  selectedTask,\n  rowHeight,\n  columnWidth,\n  timeStep,\n  svg,\n  taskHeight,\n  arrowColor,\n  arrowIndent,\n  fontFamily,\n  fontSize,\n  rtl,\n  setGanttEvent,\n  setFailedTask,\n  setSelectedTask,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n}) => {\n  const point = svg?.current?.createSVGPoint();\n  const [xStep, setXStep] = useState(0);\n  const [initEventX1Delta, setInitEventX1Delta] = useState(0);\n  const [isMoving, setIsMoving] = useState(false);\n\n  // create xStep\n  useEffect(() => {\n    const dateDelta =\n      dates[1].getTime() -\n      dates[0].getTime() -\n      dates[1].getTimezoneOffset() * 60 * 1000 +\n      dates[0].getTimezoneOffset() * 60 * 1000;\n    const newXStep = (timeStep * columnWidth) / dateDelta;\n    setXStep(newXStep);\n  }, [columnWidth, dates, timeStep]);\n\n  useEffect(() => {\n    const handleMouseMove = async (event: MouseEvent) => {\n      if (!ganttEvent.changedTask || !point || !svg?.current) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { isChanged, changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        ganttEvent.action as BarMoveAction,\n        ganttEvent.changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      if (isChanged) {\n        setGanttEvent({ action: ganttEvent.action, changedTask });\n      }\n    };\n\n    const handleMouseUp = async (event: MouseEvent) => {\n      const { action, originalSelectedTask, changedTask } = ganttEvent;\n      if (!changedTask || !point || !svg?.current || !originalSelectedTask)\n        return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n      const { changedTask: newChangedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        action as BarMoveAction,\n        changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n\n      const isNotLikeOriginal =\n        originalSelectedTask.start !== newChangedTask.start ||\n        originalSelectedTask.end !== newChangedTask.end ||\n        originalSelectedTask.progress !== newChangedTask.progress;\n\n      // remove listeners\n      svg.current.removeEventListener(\"mousemove\", handleMouseMove);\n      svg.current.removeEventListener(\"mouseup\", handleMouseUp);\n      setGanttEvent({ action: \"\" });\n      setIsMoving(false);\n\n      // custom operation start\n      let operationSuccess = true;\n      if (\n        (action === \"move\" || action === \"end\" || action === \"start\") &&\n        onDateChange &&\n        isNotLikeOriginal\n      ) {\n        try {\n          const result = await onDateChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      } else if (onProgressChange && isNotLikeOriginal) {\n        try {\n          const result = await onProgressChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      }\n\n      // If operation is failed - return old state\n      if (!operationSuccess) {\n        setFailedTask(originalSelectedTask);\n      }\n    };\n\n    if (\n      !isMoving &&\n      (ganttEvent.action === \"move\" ||\n        ganttEvent.action === \"end\" ||\n        ganttEvent.action === \"start\" ||\n        ganttEvent.action === \"progress\") &&\n      svg?.current\n    ) {\n      svg.current.addEventListener(\"mousemove\", handleMouseMove);\n      svg.current.addEventListener(\"mouseup\", handleMouseUp);\n      setIsMoving(true);\n    }\n  }, [\n    ganttEvent,\n    xStep,\n    initEventX1Delta,\n    onProgressChange,\n    timeStep,\n    onDateChange,\n    svg,\n    isMoving,\n    point,\n    rtl,\n    setFailedTask,\n    setGanttEvent,\n  ]);\n\n  /**\n   * Method is Start point of task change\n   */\n  const handleBarEventStart = async (\n    action: GanttContentMoveAction,\n    task: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (!event) {\n      if (action === \"select\") {\n        setSelectedTask(task.id);\n      }\n    }\n    // Keyboard events\n    else if (isKeyboardEvent(event)) {\n      if (action === \"delete\") {\n        if (onDelete) {\n          try {\n            const result = await onDelete(task);\n            if (result !== undefined && result) {\n              setGanttEvent({ action, changedTask: task });\n            }\n          } catch (error) {\n            console.error(\"Error on Delete. \" + error);\n          }\n        }\n      }\n    }\n    // Mouse Events\n    else if (action === \"mouseenter\") {\n      if (!ganttEvent.action) {\n        setGanttEvent({\n          action,\n          changedTask: task,\n          originalSelectedTask: task,\n        });\n      }\n    } else if (action === \"mouseleave\") {\n      if (ganttEvent.action === \"mouseenter\") {\n        setGanttEvent({ action: \"\" });\n      }\n    } else if (action === \"dblclick\") {\n      !!onDoubleClick && onDoubleClick(task);\n    } else if (action === \"click\") {\n      !!onClick && onClick(task);\n    }\n    // Change task event start\n    else if (action === \"move\") {\n      if (!svg?.current || !point) return;\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg.current.getScreenCTM()?.inverse()\n      );\n      setInitEventX1Delta(cursor.x - task.x1);\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    } else {\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    }\n  };\n\n  return (\n    <g className=\"content\">\n      <g className=\"arrows\" fill={arrowColor} stroke={arrowColor}>\n        {tasks.map(task => {\n          return task.barChildren.map(child => {\n            return (\n              <Arrow\n                key={`Arrow from ${task.id} to ${tasks[child.index].id}`}\n                taskFrom={task}\n                taskTo={tasks[child.index]}\n                rowHeight={rowHeight}\n                taskHeight={taskHeight}\n                arrowIndent={arrowIndent}\n                rtl={rtl}\n              />\n            );\n          });\n        })}\n      </g>\n      <g className=\"bar\" fontFamily={fontFamily} fontSize={fontSize}>\n        {tasks.map(task => {\n          return (\n            <TaskItem\n              task={task}\n              arrowIndent={arrowIndent}\n              taskHeight={taskHeight}\n              isProgressChangeable={!!onProgressChange && !task.isDisabled}\n              isDateChangeable={!!onDateChange && !task.isDisabled}\n              isDelete={!task.isDisabled}\n              onEventStart={handleBarEventStart}\n              key={task.id}\n              isSelected={!!selectedTask && task.id === selectedTask.id}\n              rtl={rtl}\n            />\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n","import React, { useRef, useEffect } from \"react\";\nimport { GridProps, Grid } from \"../grid/grid\";\nimport { CalendarProps, Calendar } from \"../calendar/calendar\";\nimport { TaskGanttContentProps, TaskGanttContent } from \"./task-gantt-content\";\nimport styles from \"./gantt.module.css\";\nimport '../../style.css';\nexport type TaskGanttProps = {\n  gridProps: GridProps;\n  calendarProps: CalendarProps;\n  barProps: TaskGanttContentProps;\n  ganttHeight: number;\n  scrollY: number;\n  scrollX: number;\n};\nexport const TaskGantt: React.FC<TaskGanttProps> = ({\n  gridProps,\n  calendarProps,\n  barProps,\n  ganttHeight,\n  scrollY,\n  scrollX,\n}) => {\n  const ganttSVGRef = useRef<SVGSVGElement>(null);\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  const verticalGanttContainerRef = useRef<HTMLDivElement>(null);\n  const newBarProps = { ...barProps, svg: ganttSVGRef };\n\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  useEffect(() => {\n    if (verticalGanttContainerRef.current) {\n      verticalGanttContainerRef.current.scrollLeft = scrollX;\n    }\n  }, [scrollX]);\n\n  return (\n    <div\n      className={styles.ganttVerticalContainer}\n      ref={verticalGanttContainerRef}\n      dir=\"ltr\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={gridProps.svgWidth}\n        height={calendarProps.headerHeight}\n        fontFamily={barProps.fontFamily}\n      >\n        <Calendar {...calendarProps} />\n      </svg>\n      <div\n        ref={horizontalContainerRef}\n        className={styles.horizontalContainer}\n        style={\n          ganttHeight\n            ? { height: ganttHeight, width: gridProps.svgWidth }\n            : { width: gridProps.svgWidth }\n        }\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={gridProps.svgWidth}\n          height={barProps.rowHeight * barProps.tasks.length}\n          fontFamily={barProps.fontFamily}\n          ref={ganttSVGRef}\n        >\n          <Grid {...gridProps} />\n          <TaskGanttContent {...newBarProps} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./horizontal-scroll.module.css\";\nimport '../../style.css';\nexport const HorizontalScroll: React.FC<{\n  scroll: number;\n  svgWidth: number;\n  taskListWidth: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({ scroll, svgWidth, taskListWidth, rtl, onScroll }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollLeft = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      dir=\"ltr\"\n      style={{\n        margin: rtl\n          ? `0px ${taskListWidth}px 0px 0px`\n          : `0px 0px 0px ${taskListWidth}px`,\n      }}\n      className={styles.scrollWrapper}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ width: svgWidth }} className={styles.scroll} />\n    </div>\n  );\n};\n","import React, {\n  useState,\n  SyntheticEvent,\n  useRef,\n  useEffect,\n  useMemo,\n} from \"react\";\nimport { ViewMode, GanttProps, Task } from \"../../types/public-types\";\nimport { GridProps } from \"../grid/grid\";\nimport { ganttDateRange, seedDates } from \"../../helpers/date-helper\";\nimport { CalendarProps } from \"../calendar/calendar\";\nimport { TaskGanttContentProps } from \"./task-gantt-content\";\nimport { TaskListHeaderDefault } from \"../task-list/task-list-header\";\nimport { TaskListTableDefault } from \"../task-list/task-list-table\";\nimport { StandardTooltipContent, Tooltip } from \"../other/tooltip\";\nimport { VerticalScroll } from \"../other/vertical-scroll\";\nimport { TaskListProps, TaskList } from \"../task-list/task-list\";\nimport { TaskGantt } from \"./task-gantt\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { convertToBarTasks } from \"../../helpers/bar-helper\";\nimport { GanttEvent } from \"../../types/gantt-task-actions\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport { HorizontalScroll } from \"../other/horizontal-scroll\";\nimport { removeHiddenTasks, sortTasks } from \"../../helpers/other-helper\";\nimport styles from \"./gantt.module.css\";\nimport '../../style.css';\nexport const Gantt: React.FunctionComponent<GanttProps> = ({\n  tasks,\n  headerHeight = 50,\n  columnWidth = 60,\n  listCellWidth = \"155px\",\n  rowHeight = 50,\n  ganttHeight = 0,\n  viewMode = ViewMode.Day,\n  preStepsCount = 1,\n  locale = \"en-GB\",\n  barFill = 60,\n  barCornerRadius = 3,\n  barProgressColor = \"#a3a3ff\",\n  barProgressSelectedColor = \"#8282f5\",\n  barBackgroundColor = \"#b8c2cc\",\n  barBackgroundSelectedColor = \"#aeb8c2\",\n  projectProgressColor = \"#7db59a\",\n  projectProgressSelectedColor = \"#59a985\",\n  projectBackgroundColor = \"#fac465\",\n  projectBackgroundSelectedColor = \"#f7bb53\",\n  milestoneBackgroundColor = \"#f1c453\",\n  milestoneBackgroundSelectedColor = \"#f29e4c\",\n  rtl = false,\n  handleWidth = 8,\n  timeStep = 300000,\n  arrowColor = \"grey\",\n  fontFamily = \"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue\",\n  fontSize = \"14px\",\n  arrowIndent = 20,\n  todayColor = \"rgba(252, 248, 227, 0.5)\",\n  viewDate,\n  TooltipContent = StandardTooltipContent,\n  TaskListHeader = TaskListHeaderDefault,\n  TaskListTable = TaskListTableDefault,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n  onSelect,\n  onExpanderClick,\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const taskListRef = useRef<HTMLDivElement>(null);\n  const [dateSetup, setDateSetup] = useState<DateSetup>(() => {\n    const [startDate, endDate] = ganttDateRange(tasks, viewMode, preStepsCount);\n    return { viewMode, dates: seedDates(startDate, endDate, viewMode) };\n  });\n  const [currentViewDate, setCurrentViewDate] = useState<Date | undefined>(\n    undefined\n  );\n\n  const [taskListWidth, setTaskListWidth] = useState(0);\n  const [svgContainerWidth, setSvgContainerWidth] = useState(0);\n  const [svgContainerHeight, setSvgContainerHeight] = useState(ganttHeight);\n  const [barTasks, setBarTasks] = useState<BarTask[]>([]);\n  const [ganttEvent, setGanttEvent] = useState<GanttEvent>({\n    action: \"\",\n  });\n  const taskHeight = useMemo(\n    () => (rowHeight * barFill) / 100,\n    [rowHeight, barFill]\n  );\n\n  const [selectedTask, setSelectedTask] = useState<BarTask>();\n  const [failedTask, setFailedTask] = useState<BarTask | null>(null);\n\n  const svgWidth = dateSetup.dates.length * columnWidth;\n  const ganttFullHeight = barTasks.length * rowHeight;\n\n  const [scrollY, setScrollY] = useState(0);\n  const [scrollX, setScrollX] = useState(-1);\n  const [ignoreScrollEvent, setIgnoreScrollEvent] = useState(false);\n\n  // task change events\n  useEffect(() => {\n    let filteredTasks: Task[];\n    if (onExpanderClick) {\n      filteredTasks = removeHiddenTasks(tasks);\n    } else {\n      filteredTasks = tasks;\n    }\n    filteredTasks = filteredTasks.sort(sortTasks);\n    const [startDate, endDate] = ganttDateRange(\n      filteredTasks,\n      viewMode,\n      preStepsCount\n    );\n    let newDates = seedDates(startDate, endDate, viewMode);\n    if (rtl) {\n      newDates = newDates.reverse();\n      if (scrollX === -1) {\n        setScrollX(newDates.length * columnWidth);\n      }\n    }\n    setDateSetup({ dates: newDates, viewMode });\n    setBarTasks(\n      convertToBarTasks(\n        filteredTasks,\n        newDates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      )\n    );\n  }, [\n    tasks,\n    viewMode,\n    preStepsCount,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    taskHeight,\n    handleWidth,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n    projectProgressColor,\n    projectProgressSelectedColor,\n    projectBackgroundColor,\n    projectBackgroundSelectedColor,\n    milestoneBackgroundColor,\n    milestoneBackgroundSelectedColor,\n    rtl,\n    scrollX,\n    onExpanderClick,\n  ]);\n\n  useEffect(() => {\n    if (\n      viewMode === dateSetup.viewMode &&\n      ((viewDate && !currentViewDate) ||\n        (viewDate && currentViewDate?.valueOf() !== viewDate.valueOf()))\n    ) {\n      const dates = dateSetup.dates;\n      const index = dates.findIndex(\n        (d, i) =>\n          viewDate.valueOf() >= d.valueOf() &&\n          i + 1 !== dates.length &&\n          viewDate.valueOf() < dates[i + 1].valueOf()\n      );\n      if (index === -1) {\n        return;\n      }\n      setCurrentViewDate(viewDate);\n      setScrollX(columnWidth * index);\n    }\n  }, [\n    viewDate,\n    columnWidth,\n    dateSetup.dates,\n    dateSetup.viewMode,\n    viewMode,\n    currentViewDate,\n    setCurrentViewDate,\n  ]);\n\n  useEffect(() => {\n    const { changedTask, action } = ganttEvent;\n    if (changedTask) {\n      if (action === \"delete\") {\n        setGanttEvent({ action: \"\" });\n        setBarTasks(barTasks.filter(t => t.id !== changedTask.id));\n      } else if (\n        action === \"move\" ||\n        action === \"end\" ||\n        action === \"start\" ||\n        action === \"progress\"\n      ) {\n        const prevStateTask = barTasks.find(t => t.id === changedTask.id);\n        if (\n          prevStateTask &&\n          (prevStateTask.start.getTime() !== changedTask.start.getTime() ||\n            prevStateTask.end.getTime() !== changedTask.end.getTime() ||\n            prevStateTask.progress !== changedTask.progress)\n        ) {\n          // actions for change\n          const newTaskList = barTasks.map(t =>\n            t.id === changedTask.id ? changedTask : t\n          );\n          setBarTasks(newTaskList);\n        }\n      }\n    }\n  }, [ganttEvent, barTasks]);\n\n  useEffect(() => {\n    if (failedTask) {\n      setBarTasks(barTasks.map(t => (t.id !== failedTask.id ? t : failedTask)));\n      setFailedTask(null);\n    }\n  }, [failedTask, barTasks]);\n\n  useEffect(() => {\n    if (!listCellWidth) {\n      setTaskListWidth(0);\n    }\n    if (taskListRef.current) {\n      setTaskListWidth(taskListRef.current.offsetWidth);\n    }\n  }, [taskListRef, listCellWidth]);\n\n  useEffect(() => {\n    if (wrapperRef.current) {\n      setSvgContainerWidth(wrapperRef.current.offsetWidth - taskListWidth);\n    }\n  }, [wrapperRef, taskListWidth]);\n\n  useEffect(() => {\n    if (ganttHeight) {\n      setSvgContainerHeight(ganttHeight + headerHeight);\n    } else {\n      setSvgContainerHeight(tasks.length * rowHeight + headerHeight);\n    }\n  }, [ganttHeight, tasks, headerHeight, rowHeight]);\n\n  // scroll events\n  useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      if (event.shiftKey || event.deltaX) {\n        const scrollMove = event.deltaX ? event.deltaX : event.deltaY;\n        let newScrollX = scrollX + scrollMove;\n        if (newScrollX < 0) {\n          newScrollX = 0;\n        } else if (newScrollX > svgWidth) {\n          newScrollX = svgWidth;\n        }\n        setScrollX(newScrollX);\n        event.preventDefault();\n      } else if (ganttHeight) {\n        let newScrollY = scrollY + event.deltaY;\n        if (newScrollY < 0) {\n          newScrollY = 0;\n        } else if (newScrollY > ganttFullHeight - ganttHeight) {\n          newScrollY = ganttFullHeight - ganttHeight;\n        }\n        if (newScrollY !== scrollY) {\n          setScrollY(newScrollY);\n          event.preventDefault();\n        }\n      }\n\n      setIgnoreScrollEvent(true);\n    };\n\n    // subscribe if scroll is necessary\n    wrapperRef.current?.addEventListener(\"wheel\", handleWheel, {\n      passive: false,\n    });\n    return () => {\n      wrapperRef.current?.removeEventListener(\"wheel\", handleWheel);\n    };\n  }, [\n    wrapperRef,\n    scrollY,\n    scrollX,\n    ganttHeight,\n    svgWidth,\n    rtl,\n    ganttFullHeight,\n  ]);\n\n  const handleScrollY = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollY !== event.currentTarget.scrollTop && !ignoreScrollEvent) {\n      setScrollY(event.currentTarget.scrollTop);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  const handleScrollX = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollX !== event.currentTarget.scrollLeft && !ignoreScrollEvent) {\n      setScrollX(event.currentTarget.scrollLeft);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  /**\n   * Handles arrow keys events and transform it to new scroll\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    let newScrollY = scrollY;\n    let newScrollX = scrollX;\n    let isX = true;\n    switch (event.key) {\n      case \"Down\": // IE/Edge specific value\n      case \"ArrowDown\":\n        newScrollY += rowHeight;\n        isX = false;\n        break;\n      case \"Up\": // IE/Edge specific value\n      case \"ArrowUp\":\n        newScrollY -= rowHeight;\n        isX = false;\n        break;\n      case \"Left\":\n      case \"ArrowLeft\":\n        newScrollX -= columnWidth;\n        break;\n      case \"Right\": // IE/Edge specific value\n      case \"ArrowRight\":\n        newScrollX += columnWidth;\n        break;\n    }\n    if (isX) {\n      if (newScrollX < 0) {\n        newScrollX = 0;\n      } else if (newScrollX > svgWidth) {\n        newScrollX = svgWidth;\n      }\n      setScrollX(newScrollX);\n    } else {\n      if (newScrollY < 0) {\n        newScrollY = 0;\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        newScrollY = ganttFullHeight - ganttHeight;\n      }\n      setScrollY(newScrollY);\n    }\n    setIgnoreScrollEvent(true);\n  };\n\n  /**\n   * Task select event\n   */\n  const handleSelectedTask = (taskId: string) => {\n    const newSelectedTask = barTasks.find(t => t.id === taskId);\n    const oldSelectedTask = barTasks.find(\n      t => !!selectedTask && t.id === selectedTask.id\n    );\n    if (onSelect) {\n      if (oldSelectedTask) {\n        onSelect(oldSelectedTask, false);\n      }\n      if (newSelectedTask) {\n        onSelect(newSelectedTask, true);\n      }\n    }\n    setSelectedTask(newSelectedTask);\n  };\n  const handleExpanderClick = (task: Task) => {\n    if (onExpanderClick && task.hideChildren !== undefined) {\n      onExpanderClick({ ...task, hideChildren: !task.hideChildren });\n    }\n  };\n  const gridProps: GridProps = {\n    columnWidth,\n    svgWidth,\n    tasks: tasks,\n    rowHeight,\n    dates: dateSetup.dates,\n    todayColor,\n    rtl,\n  };\n  const calendarProps: CalendarProps = {\n    dateSetup,\n    locale,\n    viewMode,\n    headerHeight,\n    columnWidth,\n    fontFamily,\n    fontSize,\n    rtl,\n  };\n  const barProps: TaskGanttContentProps = {\n    tasks: barTasks,\n    dates: dateSetup.dates,\n    ganttEvent,\n    selectedTask,\n    rowHeight,\n    taskHeight,\n    columnWidth,\n    arrowColor,\n    timeStep,\n    fontFamily,\n    fontSize,\n    arrowIndent,\n    svgWidth,\n    rtl,\n    setGanttEvent,\n    setFailedTask,\n    setSelectedTask: handleSelectedTask,\n    onDateChange,\n    onProgressChange,\n    onDoubleClick,\n    onClick,\n    onDelete,\n  };\n\n  const tableProps: TaskListProps = {\n    rowHeight,\n    rowWidth: listCellWidth,\n    fontFamily,\n    fontSize,\n    tasks: barTasks,\n    locale,\n    headerHeight,\n    scrollY,\n    ganttHeight,\n    horizontalContainerClass: styles.horizontalContainer,\n    selectedTask,\n    taskListRef,\n    setSelectedTask: handleSelectedTask,\n    onExpanderClick: handleExpanderClick,\n    TaskListHeader,\n    TaskListTable,\n  };\n  return (\n    <div>\n      <div\n        className={styles.wrapper}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        ref={wrapperRef}\n      >\n        {listCellWidth && <TaskList {...tableProps} />}\n        <TaskGantt\n          gridProps={gridProps}\n          calendarProps={calendarProps}\n          barProps={barProps}\n          ganttHeight={ganttHeight}\n          scrollY={scrollY}\n          scrollX={scrollX}\n        />\n        {ganttEvent.changedTask && (\n          <Tooltip\n            arrowIndent={arrowIndent}\n            rowHeight={rowHeight}\n            svgContainerHeight={svgContainerHeight}\n            svgContainerWidth={svgContainerWidth}\n            fontFamily={fontFamily}\n            fontSize={fontSize}\n            scrollX={scrollX}\n            scrollY={scrollY}\n            task={ganttEvent.changedTask}\n            headerHeight={headerHeight}\n            taskListWidth={taskListWidth}\n            TooltipContent={TooltipContent}\n            rtl={rtl}\n            svgWidth={svgWidth}\n          />\n        )}\n        <VerticalScroll\n          ganttFullHeight={ganttFullHeight}\n          ganttHeight={ganttHeight}\n          headerHeight={headerHeight}\n          scroll={scrollY}\n          onScroll={handleScrollY}\n          rtl={rtl}\n        />\n      </div>\n      <HorizontalScroll\n        svgWidth={svgWidth}\n        taskListWidth={taskListWidth}\n        scroll={scrollX}\n        rtl={rtl}\n        onScroll={handleScrollX}\n      />\n    </div>\n  );\n};\n"],"names":["ViewMode","intlDTCache","getCachedDateTimeFormat","locString","opts","key","JSON","stringify","dtf","Intl","DateTimeFormat","addToDate","date","quantity","scale","newDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","startOfDate","scores","shouldReset","_scale","maxScore","indexOf","ganttDateRange","tasks","viewMode","preStepsCount","newStartDate","start","newEndDate","task","end","Year","Month","Week","getMonday","Day","QuarterDay","HalfDay","Hour","seedDates","startDate","endDate","currentDate","dates","push","getLocaleMonth","locale","bottomValue","month","format","replace","toLocaleUpperCase","getLocalDayOfWeek","weekday","day","getDay","diff","setDate","getWeekNumberISO8601","tmpDate","valueOf","dayNumber","firstThursday","setMonth","weekNumber","Math","ceil","toString","length","getDaysInMonth","year","isKeyboardEvent","event","undefined","removeHiddenTasks","groupedTasks","filter","t","hideChildren","type","i","groupedTask","children","getChildren","taskList","dependencies","id","project","taskChildren","forEach","concat","sortTasks","taskA","taskB","orderA","displayOrder","Number","MAX_VALUE","orderB","classNames","classes","Boolean","join","TaskListHeaderDefault","headerHeight","fontFamily","fontSize","rowWidth","React","className","styles","ganttTable","style","ganttTable_Header","height","ganttTable_HeaderItem","minWidth","ganttTable_HeaderSeparator","marginTop","localeDateStringCache","toLocaleDateStringFactory","dateTimeOptions","lds","toLocaleDateString","TaskListTableDefault","rowHeight","onExpanderClick","useMemo","taskListWrapper","map","expanderSymbol","taskListTableRow","taskListCell","maxWidth","title","name","taskListNameWrapper","taskListExpander","taskListEmptyExpander","onClick","Tooltip","rtl","svgContainerHeight","svgContainerWidth","scrollX","scrollY","arrowIndent","taskListWidth","TooltipContent","tooltipRef","useRef","relatedY","setRelatedY","useState","relatedX","setRelatedX","useEffect","current","tooltipHeight","offsetHeight","tooltipWidth","offsetWidth","newRelatedY","index","newRelatedX","x1","x2","tooltipLeftmostPoint","fullChartWidth","tooltipLowerPoint","ref","tooltipDetailsContainer","tooltipDetailsContainerHidden","left","top","StandardTooltipContent","tooltipDefaultContainer","getTime","tooltipDefaultContainerParagraph","progress","VerticalScroll","scroll","ganttHeight","ganttFullHeight","onScroll","scrollRef","scrollTop","marginLeft","width","TaskList","selectedTask","setSelectedTask","taskListRef","horizontalContainerClass","TaskListHeader","TaskListTable","horizontalContainerRef","headerProps","selectedTaskId","tableProps","GridBody","svgWidth","columnWidth","todayColor","y","gridRows","rowLines","x","y1","y2","gridRowLine","gridRow","now","tickX","ticks","today","gridTick","fill","Grid","props","TopPartOfCalendar","value","x1Line","y1Line","y2Line","xText","yText","calendarTopTick","calendarTopText","Calendar","dateSetup","getCalendarValuesForYear","topValues","bottomValues","topDefaultHeight","calendarBottomText","topValue","getCalendarValuesForMonth","getCalendarValuesForWeek","weeksCount","getCalendarValuesForDay","getCalendarValuesForPartOfDay","hour","getCalendarValuesForHour","displayDate","topPosition","calendarHeader","Arrow","taskFrom","taskTo","taskHeight","path","trianglePoints","drownPathAndTriangleRTL","drownPathAndTriangle","strokeWidth","d","points","indexCompare","taskToEndPosition","taskFromEndPosition","taskFromHorizontalOffsetValue","taskToHorizontalOffsetValue","convertToBarTasks","barCornerRadius","handleWidth","barProgressColor","barProgressSelectedColor","barBackgroundColor","barBackgroundSelectedColor","projectProgressColor","projectProgressSelectedColor","projectBackgroundColor","projectBackgroundSelectedColor","milestoneBackgroundColor","milestoneBackgroundSelectedColor","barTasks","convertToBarTask","j","dependence","findIndex","barChildren","barTask","convertToMilestone","convertToBar","taskXCoordinateRTL","taskXCoordinate","typeInternal","progressWidth","progressX","progressWithByParams","taskYCoordinate","backgroundColor","backgroundSelectedColor","progressColor","progressSelectedColor","rotatedHeight","xDate","remainderMillis","percentOfInterval","taskX1","taskX2","progressByX","barWidth","progressPercent","round","progressByXRTL","getProgressPoint","taskY","point","startByX","xStep","steps","additionalXValue","newX","endByX","moveByX","newX1","newX2","dateByX","taskX","taskDate","timeStep","getTimezoneOffset","handleTaskBySVGMouseEvent","svgX","action","initEventX1Delta","result","handleTaskBySVGMouseEventForMilestone","handleTaskBySVGMouseEventForBar","changedTask","isChanged","newMoveX1","newMoveX2","BarDisplay","isSelected","onMouseDown","getProcessColor","getBarColor","ry","rx","barBackground","BarDateHandle","barHandle","BarProgressHandle","progressPoint","Bar","isProgressChangeable","isDateChangeable","onEventStart","handleHeight","barWrapper","tabIndex","e","BarSmall","Milestone","transform","milestoneWrapper","milestoneBackground","Project","barColor","processColor","projectWith","projectLeftTriangle","projectRightTriangle","projectWrapper","projectBackground","projectTop","TaskItem","isDelete","textRef","taskItem","setTaskItem","isTextInside","setIsTextInside","getBBox","getX","hasChild","onKeyDown","stopPropagation","onMouseEnter","onMouseLeave","onDoubleClick","onFocus","barLabel","barLabelOutside","TaskGanttContent","ganttEvent","svg","arrowColor","setGanttEvent","setFailedTask","onDateChange","onProgressChange","onDelete","createSVGPoint","setXStep","setInitEventX1Delta","isMoving","setIsMoving","dateDelta","newXStep","handleMouseMove","preventDefault","clientX","cursor","matrixTransform","getScreenCTM","inverse","handleMouseUp","originalSelectedTask","newChangedTask","isNotLikeOriginal","removeEventListener","operationSuccess","error","addEventListener","handleBarEventStart","console","stroke","child","isDisabled","TaskGantt","gridProps","calendarProps","barProps","ganttSVGRef","verticalGanttContainerRef","newBarProps","scrollLeft","ganttVerticalContainer","dir","xmlns","horizontalContainer","HorizontalScroll","margin","scrollWrapper","Gantt","listCellWidth","barFill","viewDate","onSelect","wrapperRef","setDateSetup","currentViewDate","setCurrentViewDate","setTaskListWidth","setSvgContainerWidth","setSvgContainerHeight","setBarTasks","failedTask","setScrollY","setScrollX","ignoreScrollEvent","setIgnoreScrollEvent","filteredTasks","sort","newDates","reverse","prevStateTask","find","newTaskList","handleWheel","shiftKey","deltaX","scrollMove","deltaY","newScrollX","newScrollY","passive","handleScrollY","currentTarget","handleScrollX","handleKeyDown","isX","handleSelectedTask","taskId","newSelectedTask","oldSelectedTask","handleExpanderClick","wrapper"],"mappings":"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"}